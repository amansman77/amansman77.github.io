<nav class="site-nav">
  <div class="nav-container">
    <button class="menu-toggle" aria-label="메뉴 열기" aria-expanded="false">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <div class="nav-overlay"></div>
    <ul class="nav-menu">
      <li><a href="{{ '/' | relative_url }}" {% if page.url == '/' %}class="active"{% endif %}>홈</a></li>
      <li><a href="{{ '/services/' | relative_url }}" {% if page.url == '/services/' %}class="active"{% endif %}>서비스</a></li>
      <li><a href="{{ '/work/' | relative_url }}" {% if page.url == '/work/' %}class="active"{% endif %}>프로젝트</a></li>
      <li><a href="{{ '/about/' | relative_url }}" {% if page.url == '/about/' %}class="active"{% endif %}>소개</a></li>
      <li><a href="{{ '/contact/' | relative_url }}" {% if page.url == '/contact/' %}class="active"{% endif %}>연락처</a></li>
    </ul>
  </div>
</nav>

<script>
(function() {
  const menuToggle = document.querySelector('.menu-toggle');
  const navMenu = document.querySelector('.nav-menu');
  const navOverlay = document.querySelector('.nav-overlay');
  
  if (menuToggle && navMenu) {
    menuToggle.addEventListener('click', function() {
      const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
      menuToggle.setAttribute('aria-expanded', !isExpanded);
      navMenu.classList.toggle('active');
      if (navOverlay) {
        navOverlay.classList.toggle('active');
      }
      document.body.style.overflow = !isExpanded ? 'hidden' : '';
    });
    
    // Close menu when clicking overlay
    if (navOverlay) {
      navOverlay.addEventListener('click', function() {
        menuToggle.setAttribute('aria-expanded', 'false');
        navMenu.classList.remove('active');
        navOverlay.classList.remove('active');
        document.body.style.overflow = '';
      });
    }
    
    // Close menu when clicking a link
    const navLinks = navMenu.querySelectorAll('a');
    navLinks.forEach(function(link) {
      link.addEventListener('click', function() {
        menuToggle.setAttribute('aria-expanded', 'false');
        navMenu.classList.remove('active');
        if (navOverlay) {
          navOverlay.classList.remove('active');
        }
        document.body.style.overflow = '';
      });
    });
    
    // Close menu on window resize if it's larger than mobile
    window.addEventListener('resize', function() {
      if (window.innerWidth > 768) {
        menuToggle.setAttribute('aria-expanded', 'false');
        navMenu.classList.remove('active');
        if (navOverlay) {
          navOverlay.classList.remove('active');
        }
        document.body.style.overflow = '';
      }
    });
  }
})();
</script>
